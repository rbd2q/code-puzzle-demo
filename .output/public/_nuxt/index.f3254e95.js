import{d as ee,l as v,m as R,z as ne,A as z,F as se,B as pe,k,t as P,r as $,C as Ce,H as vt,c as oe,o as Re,D as St,E as w,G as be,I as Ot,J as At,K as Tt,L as Ct,M as Rt,q as Nt,s as It,_ as Bt}from"./entry.3cc62a43.js";const zt={class:"absolute -bottom-[11px] flex items-center w-full h-6 text-center bg-transparent"},Lt={key:0,class:"font-medium z-10 px-[9px]"},Mt={key:0,class:"text-[#4EAD69]"},Pt={key:1,class:"text-[#E61739]"},jt={class:"flex items-center mb-1",key:"line.lineNumber"},Ft={class:"w-[20px] mx-4"},Dt={class:"flex items-start"},$t=["innerHTML"],Ht=ee({__name:"PuzzleEditor",props:{updatedCodeArray:{},codeState:{}},setup(e){return(t,n)=>(k(),v("div",{class:ne(["h-2/3 relative rounded-[2px] border border-b-0 border-[#F3F4F6]",{"!border-[#4EAD69]":t.codeState==="correct","!border-[#E61739]":t.codeState==="wrong"}])},[R("div",zt,[R("div",{class:ne(["relative -left-[1px] flex flex-grow h-1 rounded-bl-[2px] border-b border-l bg-transparent",{"border-[#4EAD69]":t.codeState==="correct","border-[#E61739]":t.codeState==="wrong"}])},null,2),t.codeState==="correct"||t.codeState==="wrong"?(k(),v("h2",Lt,[t.codeState==="correct"?(k(),v("span",Mt,"Круто! Это правильный код")):z("",!0),t.codeState==="wrong"?(k(),v("span",Pt,"Где-то была ошибка")):z("",!0)])):z("",!0),R("div",{class:ne(["relative -right-[1px] flex flex-grow h-1 rounded-br-[2px] border-b border-r bg-transparent",{"border-[#4EAD69]":t.codeState==="correct","border-[#E61739]":t.codeState==="wrong"}])},null,2)]),R("div",{class:ne(["h-full overflow-scroll py-3 bg-[#F3F4F6] rounded-[2px]",{"!bg-[#FFF2F2]":t.codeState==="wrong","!bg-[#EEF8EA]":t.codeState==="correct"}])},[(k(!0),v(se,null,pe(t.updatedCodeArray,s=>(k(),v("div",jt,[R("span",Ft,P(s.lineNumber),1),R("pre",Dt,[R("code",{class:"line-code",innerHTML:s.lineCode},null,8,$t)])]))),128))],2)],2))}});const qt={class:"h-1/3 border-t border-4 border-red flex flex-col items-center p-6 overflow-scroll"},Ut=R("span",{class:"text-2xl font-bold mb-12"},"Выберите код",-1),Kt={class:"flex flex-wrap justify-center"},Qt=["disabled","onClick"],Wt={class:"w-full flex justify-center mt-8"},Zt=["disabled"],Gt=ee({__name:"PuzzleSelectBlock",props:{codeBlocksToSelect:{},usedCodeBlocks:{},codeState:{}},emits:["click-puzzle","check-code","next-task"],setup(e,{emit:t}){return(n,s)=>{var d;return k(),v("div",qt,[Ut,R("div",Kt,[(k(!0),v(se,null,pe(n.codeBlocksToSelect,g=>(k(),v("button",{class:"bg-[#FFF6ED] disabled:bg-[#F6F4F1] border border-[#EBE0CC] disabled:border-[#EBE0CC] disabled:opacity-50 w-fit whitespace-nowrap rounded-md p-2 m-2",key:g,disabled:Object.values(n.usedCodeBlocks).includes(g),onClick:r=>t("click-puzzle",g)},P(g),9,Qt))),128))]),R("div",Wt,[R("button",{class:"w-full max-w-2xl text-white py-2 disabled:bg-[#F3F4F6] disabled:text-[#CFCFCF] bg-[#E61739]",disabled:Object.keys(n.usedCodeBlocks).length!==((d=n.codeBlocksToSelect)==null?void 0:d.length),onClick:s[0]||(s[0]=g=>n.codeState==="not_executed"?t("check-code"):t("next-task"))},P(n.codeState==="not_executed"?"Проверить":"Следующий вопрос"),9,Zt)])])}}}),Jt=({initialCode:e="",correctCode:t=""})=>{const n=$(),s=$([]),d=$({}),g=$("not_executed"),r=h=>{h.classList.remove("!bg-[#EBF2FB]","!border-[#BECFE2]"),h.classList.add("!bg-[#FFF6ED]"),h.innerHTML&&h.classList.add("!bg-[#EBF2FB]","!border-[#BECFE2]")},a=h=>{h.classList.remove("!bg-[#FFF6ED]"),h.innerHTML&&h.classList.add("!bg-[#EBF2FB]","!border-[#BECFE2]")},l=()=>e==null?void 0:e.split(`
`).map((h,b)=>{const A=b+1,I=vt.highlight(h,{language:"ts"}).value.replaceAll("SLOT_FOR_CODE_BLOCK",'<button class="puzzle-slot relative -top-[1px] bg-white text-black flex items-center text-center min-w-[80px] w-fit h-[26px] pl-2 border border-[#E9B087] rounded-md mx-1" ></button>');return{lineNumber:A,lineCode:I}}),_=h=>{if(!n.value){const A=document.getElementsByClassName("puzzle-slot");s.value=[...A],s.value.map((T,I)=>{!T.innerHTML&&!n.value&&(n.value=`puzzle-slot-${I+1}`)})}const b=document.getElementById(n.value);if(b){const A=n.value.charAt(n.value.length-1)??1;b.innerHTML='<span id="puzzle-slot-content"></span><button id="puzzle-slot-delete-button" class="text-[#85A2C5] px-2 ml-2 border-l border-[#BECFE2]">&#215;</button>';const T=document.getElementById("puzzle-slot-content");T&&(T.id=`puzzle-slot-content-${A}`,T.innerText=h);const I=document.getElementById("puzzle-slot-delete-button");I&&(I.id=`puzzle-slot-content-delete-button-${A}`,I.addEventListener("click",()=>{b.innerHTML="",delete d.value[A],localStorage.setItem("answers",JSON.stringify(d.value))})),a(b),d.value[A]=h,localStorage.setItem("answers",JSON.stringify(d.value)),n.value=null}},x=()=>{let h=e;s.value.map(b=>{h=h.replace("SLOT_FOR_CODE_BLOCK",b.children[0].innerText)}),h===t?g.value="correct":g.value="wrong"},O=()=>{const h=document.getElementsByClassName("puzzle-slot");s.value=[...h];const b=JSON.parse(localStorage.getItem("answers"));s.value.length&&s.value.map((A,T)=>{if(A.id=`puzzle-slot-${T+1}`,A.addEventListener("click",()=>{n.value=A.id}),b&&b[T+1]){d.value=b,A.innerHTML='<span id="puzzle-slot-content"></span><button id="puzzle-slot-delete-button" class="text-[#85A2C5] px-2 ml-2 border-l border-[#BECFE2]">&#215;</button>';const I=document.getElementById("puzzle-slot-content");I&&(I.id=`puzzle-slot-content-${T+1}`,I.innerText=b[T+1],A.classList.remove("!bg-[#FFF6ED]"),A.classList.add("!bg-[#EBF2FB]","!border-[#BECFE2]"));const H=document.getElementById("puzzle-slot-delete-button");H&&(H.id=`puzzle-slot-content-delete-button-${T+1}`,H.addEventListener("click",()=>{A.innerHTML="",delete d.value[T+1],localStorage.setItem("answers",JSON.stringify(d.value))}))}})};return Ce(()=>n.value,()=>{s.value.length&&s.value.map(h=>{h.id===n.value?r(h):a(h)})}),Ce(()=>g.value,h=>{h!=="not_executed"&&s.value.length&&s.value.map((b,A)=>{b.disabled=!0;const T=document.getElementById(`puzzle-slot-content-delete-button-${A+1}`);T&&(T.disabled=!0)})}),{usedCodeBlocks:d,activeSlotId:n,codeState:g,getReviewContent:l,clickPuzzle:_,checkCode:x,renderSlots:O}},Xt={class:"w-screen h-screen"},Vt=ee({__name:"CodePuzzle",props:{currentTask:{}},emits:["next-task"],setup(e,{emit:t}){const n=e,s=$(),{usedCodeBlocks:d,codeState:g,getReviewContent:r,clickPuzzle:a,checkCode:l,renderSlots:_}=Jt({initialCode:n.currentTask.initial_code,correctCode:n.currentTask.correct_code}),x=oe(()=>n.currentTask.blocks_to_select);return Re(()=>{s.value=r(),St(()=>{_()})}),(O,h)=>(k(),v("div",Xt,[w(s)?(k(),be(Ht,{key:0,"updated-code-array":w(s),"code-state":w(g)},null,8,["updated-code-array","code-state"])):z("",!0),w(x).length?(k(),be(Gt,{key:1,"code-blocks-to-select":w(x),"used-code-blocks":w(d),"code-state":w(g),onClickPuzzle:w(a),onCheckCode:w(l),onNextTask:h[0]||(h[0]=b=>t("next-task"))},null,8,["code-blocks-to-select","used-code-blocks","code-state","onClickPuzzle","onCheckCode"])):z("",!0)]))}}),Yt=[{id:4,type:"code-puzzle",initial_code:`export const formatDurationWithLabels = (totalSeconds: number | undefined): string => {
if (!SLOT_FOR_CODE_BLOCK) {
  return '0';
}

totalSeconds = Math.floor(totalSeconds);
if (totalSeconds < 0) {
  totalSeconds = 0;
}

const hours = Math.floor(totalSeconds / 3600);
totalSeconds %= 3600;
const minutes = Math.floor(totalSeconds / 60);
const seconds = SLOT_FOR_CODE_BLOCK;

const durationParts: string[] = [];
if (hours > 0) {
  durationParts.push(SLOT_FOR_CODE_BLOCK);
}
if (hours > 0 || minutes > 0) {
  durationParts.push(SLOT_FOR_CODE_BLOCK);
}
durationParts.push(SLOT_FOR_CODE_BLOCK);

SLOT_FOR_CODE_BLOCK SLOT_FOR_CODE_BLOCK;
};`,correct_code:`export const formatDurationWithLabels = (totalSeconds: number | undefined): string => {
if (!first code) {
  return '0';
}

totalSeconds = Math.floor(totalSeconds);
if (totalSeconds < 0) {
  totalSeconds = 0;
}

const hours = Math.floor(totalSeconds / 3600);
totalSeconds %= 3600;
const minutes = Math.floor(totalSeconds / 60);
const seconds = second code;

const durationParts: string[] = [];
if (hours > 0) {
  durationParts.push(third code);
}
if (hours > 0 || minutes > 0) {
  durationParts.push(Math.floor(totalSeconds / 3600));
}
durationParts.push(hours > 0 || minutes > 0);

return durationParts.join(' ');
};`,blocks_to_select:["first code","second code","third code","Math.floor(totalSeconds / 3600)","hours > 0 || minutes > 0","return","durationParts.join(' ')"]},{id:5,type:"code-puzzle",initial_code:`/**
 * Implement function getResult
 */
function getResult(expr) {
    const results = [];

  // Helper function to evaluate the expression
  function evaluate(left, right, operator) {
    switch (operator) {
      case '+':
        return left + right;
      case '-':
        return left - right;
      case '*':
        return left * right;
    }
  }

  // Recursive function to compute all possible results
  function computeResults(start, end) {
    const currentResults = [];

    for (let i = start; i <= end; i++) {
      const char = expr[i];

      if (char === '+' || char === '-' || char === '*') {
        const SLOT_FOR_CODE_BLOCK = computeResults(start, i - 1);
        const SLOT_FOR_CODE_BLOCK = computeResults(i + 1, end);

        for (const left of leftResults) {
          for (const right of rightResults) {
            currentResults.push(evaluate(left, right, char));
          }
        }
      }
    }

    if (currentResults.length === 0) {
      // No operators found, single number
      const num = parseInt(expr.slice(start, end + 1));
      currentResults.push(num);
    }

    return currentResults;
  }

  results.push(...computeResults(0, expr.length - 1));
  results.sort((a, b) => a - b); // Sort results in ascending order

  return results;
}`,correct_code:`/**
 * Implement function getResult
 */
function getResult(expr) {
    const results = [];

  // Helper function to evaluate the expression
  function evaluate(left, right, operator) {
    switch (operator) {
      case '+':
        return left + right;
      case '-':
        return left - right;
      case '*':
        return left * right;
    }
  }

  // Recursive function to compute all possible results
  function computeResults(start, end) {
    const currentResults = [];

    for (let i = start; i <= end; i++) {
      const char = expr[i];

      if (char === '+' || char === '-' || char === '*') {
        const leftResults = computeResults(start, i - 1);
        const rightResults = computeResults(i + 1, end);

        for (const left of leftResults) {
          for (const right of rightResults) {
            currentResults.push(evaluate(left, right, char));
          }
        }
      }
    }

    if (currentResults.length === 0) {
      // No operators found, single number
      const num = parseInt(expr.slice(start, end + 1));
      currentResults.push(num);
    }

    return currentResults;
  }

  results.push(...computeResults(0, expr.length - 1));
  results.sort((a, b) => a - b); // Sort results in ascending order

  return results;
}`,blocks_to_select:["leftResults","rightResults"]},{id:1,type:"quiz",text:"Какой котик самый милый?",img:"https://oir.mobi/uploads/posts/2022-09/1662134055_1-oir-mobi-p-mnogo-kotikov-pinterest-2.jpg",answers:[{id:1,img:"https://bipbap.ru/wp-content/uploads/2021/11/1619541010_52-oir_mobi-p-nyashnie-kotiki-zhivotnie-krasivo-foto-57.jpg"},{id:2,img:"https://bipbap.ru/wp-content/uploads/2021/11/1619541014_19-oir_mobi-p-nyashnie-kotiki-zhivotnie-krasivo-foto-21.jpg"},{id:3,img:"https://coolsen.ru/wp-content/uploads/2021/01/img_600d4719563e3.jpg"},{id:4,img:"https://bipbap.ru/wp-content/uploads/2021/11/1583662531_38.jpg"}],clarification_text:null,clarification_image:null,is_correct:null,correct_answer_id:null},{id:2,type:"quiz",text:"WireShark - это",answers:[{id:1,text:"Программа-брандмауер"},{id:2,text:"Программа автоматического обнаружения атак"},{id:3,text:"Программа для анализа безопасности удаленного устройства"},{id:4,text:"Анализатор трафика в сетях"}],clarification_text:null,clarification_image:null,is_correct:null,correct_answer_id:null},{id:3,type:"quiz",text:"На каком языке написан код?",code:`
  setup(props) {
    const shareUrlLink = (platform: String) => {
      const url = props.shareUrl || window.location.href
      switch (platform) {
        case 'tw':
          return TW_BASE_SHARE_LINK + url
        case 'vk':
          return VK_BASE_SHARE_LINK + url
        case 'fb':
          return FB_BASE_SHARE_LINK + url
      }
    }
    return { shareUrlLink }
  },`,answers:[{id:1,text:"Python"},{id:2,text:"C++"},{id:3,text:"JavaScript"},{id:4,text:"Английский"}],clarification_text:null,clarification_image:null,is_correct:null,correct_answer_id:null}],tt=Ot("tasks",{state:()=>({tasks:{item:null,loading:!1,error:!1,success:!1}}),getters:{},actions:{async getTasks(){this.tasks.loading=!0,this.tasks.error=null,this.tasks.success=!1;try{const e=Yt;console.log("task data",e),e&&(this.tasks.item=e),this.tasks.success=!0}catch{this.tasks.error=!0,this.tasks.success=!1}finally{this.tasks.loading=!1}},async checkQuizTask(e,t){var d;this.tasks.loading=!0,this.tasks.error=null,this.tasks.success=!1;const s=(d=this.tasks.item)==null?void 0:d.findIndex(g=>g.id===e);try{typeof s=="number"&&this.tasks.item&&(this.tasks.item[s]={...this.tasks.item[s],is_correct:t===4,correct_answer_id:4},this.tasks.success=!0)}catch{this.tasks.error=!0,this.tasks.success=!1}finally{this.tasks.loading=!1}}}}),en=(e,t)=>{const n=e.__vccOpts||e;for(const[s,d]of t)n[s]=d;return n};var De;const tn=typeof window<"u";tn&&(De=window==null?void 0:window.navigator)!=null&&De.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function nn(e){return e}const $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He="__vueuse_ssr_handlers__";$e[He]=$e[He]||{};var qe;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(qe||(qe={}));var sn=Object.defineProperty,Ue=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable,Ke=(e,t,n)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,an=(e,t)=>{for(var n in t||(t={}))on.call(t,n)&&Ke(e,n,t[n]);if(Ue)for(var n of Ue(t))rn.call(t,n)&&Ke(e,n,t[n]);return e};const cn={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};an({linear:nn},cn);function nt(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],s=typeof n;(s==="object"||s==="function")&&!Object.isFrozen(n)&&nt(n)}),e}class Qe{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function st(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Q(e,...t){const n=Object.create(null);for(const s in e)n[s]=e[s];return t.forEach(function(s){for(const d in s)n[d]=s[d]}),n}const ln="</span>",We=e=>!!e.scope,un=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((s,d)=>`${s}${"_".repeat(d+1)}`)].join(" ")}return`${t}${e}`};class dn{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=st(t)}openNode(t){if(!We(t))return;const n=un(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){We(t)&&(this.buffer+=ln)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Ze=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class Ne{constructor(){this.rootNode=Ze(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Ze({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(s=>this._walk(t,s)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{Ne._collapse(n)}))}}class gn extends Ne{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const s=t.root;n&&(s.scope=`language:${n}`),this.add(s)}toHTML(){return new dn(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function re(e){return e?typeof e=="string"?e:e.source:null}function ot(e){return X("(?=",e,")")}function hn(e){return X("(?:",e,")*")}function fn(e){return X("(?:",e,")?")}function X(...e){return e.map(t=>re(t)).join("")}function pn(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Ie(...e){return"("+(pn(e).capture?"":"?:")+e.map(t=>re(t)).join("|")+")"}function rt(e){return new RegExp(e.toString()+"|").exec("").length-1}function bn(e,t){const n=e&&e.exec(t);return n&&n.index===0}const mn=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Be(e,{joinWith:t}){let n=0;return e.map(s=>{n+=1;const d=n;let g=re(s),r="";for(;g.length>0;){const a=mn.exec(g);if(!a){r+=g;break}r+=g.substring(0,a.index),g=g.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?r+="\\"+String(Number(a[1])+d):(r+=a[0],a[0]==="("&&n++)}return r}).map(s=>`(${s})`).join(t)}const _n=/\b\B/,at="[a-zA-Z]\\w*",ze="[a-zA-Z_]\\w*",it="\\b\\d+(\\.\\d+)?",ct="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",lt="\\b(0b[01]+)",wn="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",xn=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=X(t,/.*\b/,e.binary,/\b.*/)),Q({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,s)=>{n.index!==0&&s.ignoreMatch()}},e)},ae={begin:"\\\\[\\s\\S]",relevance:0},En={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ae]},kn={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ae]},yn={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},_e=function(e,t,n={}){const s=Q({scope:"comment",begin:e,end:t,contains:[]},n);s.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const d=Ie("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return s.contains.push({begin:X(/[ ]+/,"(",d,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),s},vn=_e("//","$"),Sn=_e("/\\*","\\*/"),On=_e("#","$"),An={scope:"number",begin:it,relevance:0},Tn={scope:"number",begin:ct,relevance:0},Cn={scope:"number",begin:lt,relevance:0},Rn={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ae,{begin:/\[/,end:/\]/,relevance:0,contains:[ae]}]}]},Nn={scope:"title",begin:at,relevance:0},In={scope:"title",begin:ze,relevance:0},Bn={begin:"\\.\\s*"+ze,relevance:0},zn=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var fe=Object.freeze({__proto__:null,MATCH_NOTHING_RE:_n,IDENT_RE:at,UNDERSCORE_IDENT_RE:ze,NUMBER_RE:it,C_NUMBER_RE:ct,BINARY_NUMBER_RE:lt,RE_STARTERS_RE:wn,SHEBANG:xn,BACKSLASH_ESCAPE:ae,APOS_STRING_MODE:En,QUOTE_STRING_MODE:kn,PHRASAL_WORDS_MODE:yn,COMMENT:_e,C_LINE_COMMENT_MODE:vn,C_BLOCK_COMMENT_MODE:Sn,HASH_COMMENT_MODE:On,NUMBER_MODE:An,C_NUMBER_MODE:Tn,BINARY_NUMBER_MODE:Cn,REGEXP_MODE:Rn,TITLE_MODE:Nn,UNDERSCORE_TITLE_MODE:In,METHOD_GUARD:Bn,END_SAME_AS_BEGIN:zn});function Ln(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Mn(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Pn(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Ln,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function jn(e,t){Array.isArray(e.illegal)&&(e.illegal=Ie(...e.illegal))}function Fn(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Dn(e,t){e.relevance===void 0&&(e.relevance=1)}const $n=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(s=>{delete e[s]}),e.keywords=n.keywords,e.begin=X(n.beforeMatch,ot(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Hn=["of","and","for","in","not","or","if","then","parent","list","value"],qn="keyword";function ut(e,t,n=qn){const s=Object.create(null);return typeof e=="string"?d(n,e.split(" ")):Array.isArray(e)?d(n,e):Object.keys(e).forEach(function(g){Object.assign(s,ut(e[g],t,g))}),s;function d(g,r){t&&(r=r.map(a=>a.toLowerCase())),r.forEach(function(a){const l=a.split("|");s[l[0]]=[g,Un(l[0],l[1])]})}}function Un(e,t){return t?Number(t):Kn(e)?0:1}function Kn(e){return Hn.includes(e.toLowerCase())}const Ge={},J=e=>{console.error(e)},Je=(e,...t)=>{console.log(`WARN: ${e}`,...t)},V=(e,t)=>{Ge[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Ge[`${e}/${t}`]=!0)},me=new Error;function dt(e,t,{key:n}){let s=0;const d=e[n],g={},r={};for(let a=1;a<=t.length;a++)r[a+s]=d[a],g[a+s]=!0,s+=rt(t[a-1]);e[n]=r,e[n]._emit=g,e[n]._multi=!0}function Qn(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw J("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),me;if(typeof e.beginScope!="object"||e.beginScope===null)throw J("beginScope must be object"),me;dt(e,e.begin,{key:"beginScope"}),e.begin=Be(e.begin,{joinWith:""})}}function Wn(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw J("skip, excludeEnd, returnEnd not compatible with endScope: {}"),me;if(typeof e.endScope!="object"||e.endScope===null)throw J("endScope must be object"),me;dt(e,e.end,{key:"endScope"}),e.end=Be(e.end,{joinWith:""})}}function Zn(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Gn(e){Zn(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Qn(e),Wn(e)}function Jn(e){function t(r,a){return new RegExp(re(r),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=rt(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=t(Be(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const _=l.findIndex((O,h)=>h>0&&O!==void 0),x=this.matchIndexes[_];return l.splice(0,_),Object.assign(l,x)}}class s{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new n;return this.rules.slice(a).forEach(([_,x])=>l.addRule(_,x)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let _=l.exec(a);if(this.resumingScanAtSamePosition()&&!(_&&_.index===this.lastIndex)){const x=this.getMatcher(0);x.lastIndex=this.lastIndex+1,_=x.exec(a)}return _&&(this.regexIndex+=_.position+1,this.regexIndex===this.count&&this.considerAll()),_}}function d(r){const a=new s;return r.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),r.terminatorEnd&&a.addRule(r.terminatorEnd,{type:"end"}),r.illegal&&a.addRule(r.illegal,{type:"illegal"}),a}function g(r,a){const l=r;if(r.isCompiled)return l;[Mn,Fn,Gn,$n].forEach(x=>x(r,a)),e.compilerExtensions.forEach(x=>x(r,a)),r.__beforeBegin=null,[Pn,jn,Dn].forEach(x=>x(r,a)),r.isCompiled=!0;let _=null;return typeof r.keywords=="object"&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),_=r.keywords.$pattern,delete r.keywords.$pattern),_=_||/\w+/,r.keywords&&(r.keywords=ut(r.keywords,e.case_insensitive)),l.keywordPatternRe=t(_,!0),a&&(r.begin||(r.begin=/\B|\b/),l.beginRe=t(l.begin),!r.end&&!r.endsWithParent&&(r.end=/\B|\b/),r.end&&(l.endRe=t(l.end)),l.terminatorEnd=re(l.end)||"",r.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(r.end?"|":"")+a.terminatorEnd)),r.illegal&&(l.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map(function(x){return Xn(x==="self"?r:x)})),r.contains.forEach(function(x){g(x,l)}),r.starts&&g(r.starts,a),l.matcher=d(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Q(e.classNameAliases||{}),g(e)}function gt(e){return e?e.endsWithParent||gt(e.starts):!1}function Xn(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Q(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:gt(e)?Q(e,{starts:e.starts?Q(e.starts):null}):Object.isFrozen(e)?Q(e):e}var Vn="11.8.0";class Yn extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Te=st,Xe=Q,Ve=Symbol("nomatch"),es=7,ht=function(e){const t=Object.create(null),n=Object.create(null),s=[];let d=!0;const g="Could not find the language '{}', did you forget to load/include a language module?",r={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:gn};function l(o){return a.noHighlightRe.test(o)}function _(o){let c=o.className+" ";c+=o.parentNode?o.parentNode.className:"";const p=a.languageDetectRe.exec(c);if(p){const E=j(p[1]);return E||(Je(g.replace("{}",p[1])),Je("Falling back to no-highlight mode for this block.",o)),E?p[1]:"no-highlight"}return c.split(/\s+/).find(E=>l(E)||j(E))}function x(o,c,p){let E="",C="";typeof c=="object"?(E=o,p=c.ignoreIllegals,C=c.language):(V("10.7.0","highlight(lang, code, ...args) has been deprecated."),V("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),C=o,E=c),p===void 0&&(p=!0);const L={code:E,language:C};Z("before:highlight",L);const K=L.result?L.result:O(L.language,L.code,p);return K.code=L.code,Z("after:highlight",K),K}function O(o,c,p,E){const C=Object.create(null);function L(i,u){return i.keywords[u]}function K(){if(!f.keywords){N.addText(S);return}let i=0;f.keywordPatternRe.lastIndex=0;let u=f.keywordPatternRe.exec(S),m="";for(;u;){m+=S.substring(i,u.index);const y=D.case_insensitive?u[0].toLowerCase():u[0],B=L(f,y);if(B){const[q,kt]=B;if(N.addText(m),m="",C[y]=(C[y]||0)+1,C[y]<=es&&(he+=kt),q.startsWith("_"))m+=u[0];else{const yt=D.classNameAliases[q]||q;F(u[0],yt)}}else m+=u[0];i=f.keywordPatternRe.lastIndex,u=f.keywordPatternRe.exec(S)}m+=S.substring(i),N.addText(m)}function de(){if(S==="")return;let i=null;if(typeof f.subLanguage=="string"){if(!t[f.subLanguage]){N.addText(S);return}i=O(f.subLanguage,S,!0,Fe[f.subLanguage]),Fe[f.subLanguage]=i._top}else i=b(S,f.subLanguage.length?f.subLanguage:null);f.relevance>0&&(he+=i.relevance),N.__addSublanguage(i._emitter,i.language)}function M(){f.subLanguage!=null?de():K(),S=""}function F(i,u){i!==""&&(N.startScope(u),N.addText(i),N.endScope())}function Le(i,u){let m=1;const y=u.length-1;for(;m<=y;){if(!i._emit[m]){m++;continue}const B=D.classNameAliases[i[m]]||i[m],q=u[m];B?F(q,B):(S=q,K(),S=""),m++}}function Me(i,u){return i.scope&&typeof i.scope=="string"&&N.openNode(D.classNameAliases[i.scope]||i.scope),i.beginScope&&(i.beginScope._wrap?(F(S,D.classNameAliases[i.beginScope._wrap]||i.beginScope._wrap),S=""):i.beginScope._multi&&(Le(i.beginScope,u),S="")),f=Object.create(i,{parent:{value:f}}),f}function Pe(i,u,m){let y=bn(i.endRe,m);if(y){if(i["on:end"]){const B=new Qe(i);i["on:end"](u,B),B.isMatchIgnored&&(y=!1)}if(y){for(;i.endsParent&&i.parent;)i=i.parent;return i}}if(i.endsWithParent)return Pe(i.parent,u,m)}function mt(i){return f.matcher.regexIndex===0?(S+=i[0],1):(Ae=!0,0)}function _t(i){const u=i[0],m=i.rule,y=new Qe(m),B=[m.__beforeBegin,m["on:begin"]];for(const q of B)if(q&&(q(i,y),y.isMatchIgnored))return mt(u);return m.skip?S+=u:(m.excludeBegin&&(S+=u),M(),!m.returnBegin&&!m.excludeBegin&&(S=u)),Me(m,i),m.returnBegin?0:u.length}function wt(i){const u=i[0],m=c.substring(i.index),y=Pe(f,i,m);if(!y)return Ve;const B=f;f.endScope&&f.endScope._wrap?(M(),F(u,f.endScope._wrap)):f.endScope&&f.endScope._multi?(M(),Le(f.endScope,i)):B.skip?S+=u:(B.returnEnd||B.excludeEnd||(S+=u),M(),B.excludeEnd&&(S=u));do f.scope&&N.closeNode(),!f.skip&&!f.subLanguage&&(he+=f.relevance),f=f.parent;while(f!==y.parent);return y.starts&&Me(y.starts,i),B.returnEnd?0:u.length}function xt(){const i=[];for(let u=f;u!==D;u=u.parent)u.scope&&i.unshift(u.scope);i.forEach(u=>N.openNode(u))}let ge={};function je(i,u){const m=u&&u[0];if(S+=i,m==null)return M(),0;if(ge.type==="begin"&&u.type==="end"&&ge.index===u.index&&m===""){if(S+=c.slice(u.index,u.index+1),!d){const y=new Error(`0 width match regex (${o})`);throw y.languageName=o,y.badRule=ge.rule,y}return 1}if(ge=u,u.type==="begin")return _t(u);if(u.type==="illegal"&&!p){const y=new Error('Illegal lexeme "'+m+'" for mode "'+(f.scope||"<unnamed>")+'"');throw y.mode=f,y}else if(u.type==="end"){const y=wt(u);if(y!==Ve)return y}if(u.type==="illegal"&&m==="")return 1;if(Oe>1e5&&Oe>u.index*3)throw new Error("potential infinite loop, way more iterations than matches");return S+=m,m.length}const D=j(o);if(!D)throw J(g.replace("{}",o)),new Error('Unknown language: "'+o+'"');const Et=Jn(D);let Se="",f=E||Et;const Fe={},N=new a.__emitter(a);xt();let S="",he=0,G=0,Oe=0,Ae=!1;try{if(D.__emitTokens)D.__emitTokens(c,N);else{for(f.matcher.considerAll();;){Oe++,Ae?Ae=!1:f.matcher.considerAll(),f.matcher.lastIndex=G;const i=f.matcher.exec(c);if(!i)break;const u=c.substring(G,i.index),m=je(u,i);G=i.index+m}je(c.substring(G))}return N.finalize(),Se=N.toHTML(),{language:o,value:Se,relevance:he,illegal:!1,_emitter:N,_top:f}}catch(i){if(i.message&&i.message.includes("Illegal"))return{language:o,value:Te(c),illegal:!0,relevance:0,_illegalBy:{message:i.message,index:G,context:c.slice(G-100,G+100),mode:i.mode,resultSoFar:Se},_emitter:N};if(d)return{language:o,value:Te(c),illegal:!1,relevance:0,errorRaised:i,_emitter:N,_top:f};throw i}}function h(o){const c={value:Te(o),illegal:!1,relevance:0,_top:r,_emitter:new a.__emitter(a)};return c._emitter.addText(o),c}function b(o,c){c=c||a.languages||Object.keys(t);const p=h(o),E=c.filter(j).filter(ue).map(M=>O(M,o,!1));E.unshift(p);const C=E.sort((M,F)=>{if(M.relevance!==F.relevance)return F.relevance-M.relevance;if(M.language&&F.language){if(j(M.language).supersetOf===F.language)return 1;if(j(F.language).supersetOf===M.language)return-1}return 0}),[L,K]=C,de=L;return de.secondBest=K,de}function A(o,c,p){const E=c&&n[c]||p;o.classList.add("hljs"),o.classList.add(`language-${E}`)}function T(o){let c=null;const p=_(o);if(l(p))return;if(Z("before:highlightElement",{el:o,language:p}),o.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(o)),a.throwUnescapedHTML))throw new Yn("One of your code blocks includes unescaped HTML.",o.innerHTML);c=o;const E=c.textContent,C=p?x(E,{language:p,ignoreIllegals:!0}):b(E);o.innerHTML=C.value,A(o,p,C.language),o.result={language:C.language,re:C.relevance,relevance:C.relevance},C.secondBest&&(o.secondBest={language:C.secondBest.language,relevance:C.secondBest.relevance}),Z("after:highlightElement",{el:o,result:C,text:E})}function I(o){a=Xe(a,o)}const H=()=>{U(),V("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function ie(){U(),V("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let te=!1;function U(){if(document.readyState==="loading"){te=!0;return}document.querySelectorAll(a.cssSelector).forEach(T)}function W(){te&&U()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",W,!1);function we(o,c){let p=null;try{p=c(e)}catch(E){if(J("Language definition for '{}' could not be registered.".replace("{}",o)),d)J(E);else throw E;p=r}p.name||(p.name=o),t[o]=p,p.rawDefinition=c.bind(null,e),p.aliases&&le(p.aliases,{languageName:o})}function ce(o){delete t[o];for(const c of Object.keys(n))n[c]===o&&delete n[c]}function xe(){return Object.keys(t)}function j(o){return o=(o||"").toLowerCase(),t[o]||t[n[o]]}function le(o,{languageName:c}){typeof o=="string"&&(o=[o]),o.forEach(p=>{n[p.toLowerCase()]=c})}function ue(o){const c=j(o);return c&&!c.disableAutodetect}function Ee(o){o["before:highlightBlock"]&&!o["before:highlightElement"]&&(o["before:highlightElement"]=c=>{o["before:highlightBlock"](Object.assign({block:c.el},c))}),o["after:highlightBlock"]&&!o["after:highlightElement"]&&(o["after:highlightElement"]=c=>{o["after:highlightBlock"](Object.assign({block:c.el},c))})}function ke(o){Ee(o),s.push(o)}function ye(o){const c=s.indexOf(o);c!==-1&&s.splice(c,1)}function Z(o,c){const p=o;s.forEach(function(E){E[p]&&E[p](c)})}function ve(o){return V("10.7.0","highlightBlock will be removed entirely in v12.0"),V("10.7.0","Please use highlightElement now."),T(o)}Object.assign(e,{highlight:x,highlightAuto:b,highlightAll:U,highlightElement:T,highlightBlock:ve,configure:I,initHighlighting:H,initHighlightingOnLoad:ie,registerLanguage:we,unregisterLanguage:ce,listLanguages:xe,getLanguage:j,registerAliases:le,autoDetection:ue,inherit:Xe,addPlugin:ke,removePlugin:ye}),e.debugMode=function(){d=!1},e.safeMode=function(){d=!0},e.versionString=Vn,e.regex={concat:X,lookahead:ot,either:Ie,optional:fn,anyNumberOfTimes:hn};for(const o in fe)typeof fe[o]=="object"&&nt(fe[o]);return Object.assign(e,fe),e},Y=ht({});Y.newInstance=()=>ht({});var ts=Y;Y.HighlightJS=Y;Y.default=Y;const Ye=ts,et="[A-Za-z$_][0-9A-Za-z$_]*",ns=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],ss=["true","false","null","undefined","NaN","Infinity"],ft=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],pt=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],bt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],os=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],rs=[].concat(bt,ft,pt);function as(e){const t=e.regex,n=(o,{after:c})=>{const p="</"+o[0].slice(1);return o.input.indexOf(p,c)!==-1},s=et,d={begin:"<>",end:"</>"},g=/<[A-Za-z0-9\\._:-]+\s*\/>/,r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(o,c)=>{const p=o[0].length+o.index,E=o.input[p];if(E==="<"||E===","){c.ignoreMatch();return}E===">"&&(n(o,{after:p})||c.ignoreMatch());let C;const L=o.input.substring(p);if(C=L.match(/^\s*=/)){c.ignoreMatch();return}if((C=L.match(/^\s+extends\s+/))&&C.index===0){c.ignoreMatch();return}}},a={$pattern:et,keyword:ns,literal:ss,built_in:rs,"variable.language":os},l="[0-9](_?[0-9])*",_=`\\.(${l})`,x="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",O={className:"number",variants:[{begin:`(\\b(${x})((${_})|\\.)?|(${_}))[eE][+-]?(${l})\\b`},{begin:`\\b(${x})\\b((${_})\\b|\\.)?|(${_})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},A={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},T={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},I={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},H={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},ie=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,A,T,I,{match:/\$\d+/},O];h.contains=ie.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(ie)});const te=[].concat(H,h.contains),U=te.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(te)}]),W={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:U},we={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},ce={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ft,...pt]}},xe={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},j={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[W],illegal:/%/},le={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ue(o){return t.concat("(?!",o.join("|"),")")}const Ee={match:t.concat(/\b/,ue([...bt,"super","import"]),s,t.lookahead(/\(/)),className:"title.function",relevance:0},ke={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ye={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},W]},Z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",ve={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[W]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:U,CLASS_REFERENCE:ce},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),xe,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,b,A,T,I,H,{match:/\$\d+/},O,ce,{className:"attr",begin:s+t.lookahead(":"),relevance:0},ve,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[H,e.REGEXP_MODE,{className:"function",begin:Z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:U}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:d.begin,end:d.end},{match:g},{begin:r.begin,"on:begin":r.isTrulyOpeningTag,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}]},j,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[W,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},ke,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[W]},Ee,le,we,ye,{match:/\$[(.]/}]}}const is={class:"g-quiz flex flex-col w-full items-start"},cs={key:0,class:"g-quiz__counter"},ls={class:"w-full"},us={key:0},ds={class:"g-quiz__question"},gs={key:1,class:"g-quiz__code-block"},hs={class:"mt-3"},fs=["innerHTML"],ps=["src"],bs={class:"g-quiz__answers flex flex-col w-full mb-4 md:mb-6 mt-2 md:mt-4"},ms={key:0,class:"g-quiz__answers-title"},_s=["disabled","onClick"],ws={class:"max-w-full"},xs=["src"],Es={key:1,class:"w-full mb-6"},ks={class:"g-quiz__clarification-text"},ys=["src"],vs={key:2},Ss=["disabled"],Os=ee({__name:"GQuizLight",props:{question:null,questionIndex:null,questionsTotal:null,hasCorrect:{type:Boolean,default:!0},textPickAnswerTitle:{default:"Choose the answer option"},confirmText:{default:"Answer question"},nextText:{default:"Next"},hideAnswer:{type:Boolean},immediateAnswer:{type:Boolean,default:!1}},emits:["next","answer"],setup(e,{emit:t}){const n=e,s=$(),d=oe(()=>n.questionIndex&&n.questionsTotal),g=oe(()=>[!0,!1].includes(n.question.is_correct)),r=At({answerPickedId:null,answerConfirmedId:null}),a=()=>{var O;return(O=n.question.code)==null?void 0:O.split(`
`).map(h=>({lineCode:Ye.highlight(h,{language:"javascript"}).value.replaceAll("SLOT_FOR_CODE_BLOCK",'<button class="puzzle-slot relative -top-[1px] bg-white text-black flex items-center text-center min-w-[80px] w-fit h-[26px] pl-2 border border-[#E9B087] rounded-md mx-1" ></button>')}))},l=O=>{n.immediateAnswer?t("answer",O):r.answerPickedId=O},_=O=>{r.answerConfirmedId=O,t("answer",O)},x=()=>{r.answerPickedId=null,r.answerConfirmedId=null,t("next")};return console.log("props.question.code",n.question.code),Re(()=>{Ye.registerLanguage("javascript",as),s.value=a()}),(O,h)=>(k(),v("div",is,[w(d)?(k(),v("div",cs,"Question "+P(n.questionIndex)+" / "+P(n.questionsTotal),1)):z("",!0),R("div",ls,[n.question.foreword?(k(),v("h5",us,P(n.question.foreword),1)):z("",!0),R("div",ds,P(e.question.text),1),n.question.code?(k(),v("div",gs,[(k(!0),v(se,null,pe(w(s),b=>(k(),v("pre",hs,[R("code",{innerHTML:b.lineCode},null,8,fs)]))),256))])):z("",!0),n.question.img?(k(),v("img",{key:2,class:"mt-4",src:n.question.img},null,8,ps)):z("",!0)]),R("div",bs,[e.textPickAnswerTitle?(k(),v("p",ms,P(e.textPickAnswerTitle),1)):z("",!0),(k(!0),v(se,null,pe(n.question.answers,b=>(k(),v("button",{class:ne(["g-quiz__answer-item w-full flex flex-col justify-between relative overflow-hidden my-2 px-5 py-4 text-left",{picked:b.id===w(r).answerPickedId,confirming:b.id===w(r).answerConfirmedId&&e.question.correct_answer_id===null,incorrect:!e.hideAnswer&&e.hasCorrect&&e.question.correct_answer_id&&b.id===w(r).answerPickedId&&b.id!==e.question.correct_answer_id,correct:!e.hideAnswer&&e.hasCorrect&&e.question.correct_answer_id&&b.id===e.question.correct_answer_id}]),key:b.id,disabled:e.question.correct_answer_id!==null,onClick:A=>l(b.id)},[R("div",ws,P(b.text),1),b.img?(k(),v("img",{key:0,class:"mt-2",src:b.img},null,8,xs)):z("",!0)],10,_s))),128))]),n.question.clarification_text?(k(),v("div",Es,[R("p",ks,P(n.question.clarification_text),1),n.question.clarification_image?(k(),v("img",{key:0,class:"block mx-auto max-w-1/2 mt-4",draggable:"false",src:n.question.clarification_image},null,8,ys)):z("",!0)])):z("",!0),e.immediateAnswer?z("",!0):(k(),v("div",vs,[Tt(O.$slots,"action-button",{onclick:()=>w(g)||e.hideAnswer?x():_(w(r).answerPickedId),disabled:!w(r).answerPickedId,text:w(g)||e.hideAnswer?e.nextText:e.confirmText},()=>[R("button",{class:"border rounded-lg border-2 px-4 border-solid py-2",onClick:h[0]||(h[0]=b=>w(g)||e.hideAnswer?x():_(w(r).answerPickedId)),disabled:!w(r).answerPickedId},P(w(g)?e.nextText:e.confirmText),9,Ss)],!0)]))]))}}),As=en(Os,[["__scopeId","data-v-1150d7b2"]]),Ts={class:"quiz-block"},Cs=["disabled","onClick"],Rs=ee({__name:"QuizTask",props:{currentTask:{}},emits:["next-task"],setup(e,{emit:t}){const n=e,s=tt(),d=$(!1),g=$(!0),r=$(n.currentTask),a=()=>{g.value=!1,d.value=!0,t("next-task")},l=async _=>{await s.checkQuizTask(r.value.id,_)};return Ce(()=>n.currentTask,()=>{r.value=n.currentTask}),(_,x)=>(k(),v("div",Ts,[Ct(Nt(w(As),{question:w(r),"hide-answer":!0,"text-pick-answer-title":"","confirm-text":"Проверить","next-text":"Продолжить",textPickAnswerTitle:"Выбери ответ",onNext:a,onAnswer:l},{"action-button":It(({onclick:O,disabled:h,text:b})=>[R("button",{class:"action-button",disabled:h,onClick:O},P(b),9,Cs)]),_:1},8,["question"]),[[Rt,w(g)]])]))}});const Ns=Bt(Rs,[["__scopeId","data-v-114734cb"]]),Bs=ee({__name:"index",setup(e){const t=tt(),n=$(0),s=oe(()=>t.tasks.item),d=oe(()=>{var r;if((r=s.value)!=null&&r.length)return s.value[n.value]}),g=()=>{s.value&&n.value+1<s.value.length&&(n.value=n.value+1,localStorage.removeItem("answers"))};return Re(()=>{t.getTasks()}),(r,a)=>(k(),v(se,null,[w(d)&&w(d).type==="code-puzzle"?(k(),be(Vt,{key:w(d).id,"current-task":w(d),onNextTask:g},null,8,["current-task"])):z("",!0),w(d)&&w(d).type==="quiz"?(k(),be(Ns,{key:w(d).id,"current-task":w(d),onNextTask:g},null,8,["current-task"])):z("",!0)],64))}});export{Bs as default};
